<div class="gn-info-list-blocks" data-ng-if="children">
  <h2>{{title}}</h2>
  <hr />
  <div class="row">
    <div data-ng-repeat="filter in filters"
         class="pull-left">
      {{filter | translate}}
      <div class="btn-group"
           role="group"
           aria-label="filter">
        <button data-ng-repeat="(key, b) in agg[filter].buckets"
                data-ng-click="filterRecordsBy(filter, b.key)"
                type="button"
                class="btn btn-default"
                data-ng-class="{'btn-primary': current === (filter + '-' + b.key)}"
        >{{(b.key | translate) || '&nbsp;'}} ({{b.doc_count}})
        </button>
      </div>
    </div>
  </div>

  <ul class="row list-group gn-info-list">
    <li class="list-group-item panel panel-default gn-card"
        data-ng-repeat="md in displayedRecords"
        gn-metadata-open="md.record"
        gn-records="children"
        gn-formatter="formatter.defaultUrl"
        id="gn-info-list-mw-{{md.record.uuid}}"
        data-ng-class="md.record.overview.length > 0 ? 'hasThumbnail' : 'noThumbnail'">

      <div class="panel-heading gn-card-heading">
        <div class="gn-md-title">
          <a href=""
             title="{{md.record.resourceTitle}}"
             gn-metadata-open="md.record"
             gn-records="searchResults.records"
             gn-formatter="formatter.defaultUrl">
            <h1>
              <span class="clamp-2">{{md.record.resourceTitle}}</span>
            </h1>
          </a>
        </div>
      </div>
      <!-- /.gn-card-heading -->
      <div class="panel-body gn-card-body">
        <div class="gn-md-contents">
          <div class="gn-md-thumbnail"
               data-ng-class="{'gn-md-no-thumbnail': !md.record.overview[0]}">
            <a href=""
               title="{{(md.record.abstract || md.record.defaultAbstract) | striptags}}"
               gn-metadata-open="md.record"
               gn-records="searchResults.records"
               gn-formatter="formatter.defaultUrl">
              <div class="gn-img-thumbnail"
                   style="background-image: url('{{md.record.overview[0].url | thumbnailUrlSize:320}}')">
              </div>
            </a>
          </div>
          <div class="gn-md-details">
            <div class="gn-md-abstract">
              <p>{{md.record.resourceAbstract}}</p>
              <div class="gn-md-types">
                <span class="badge"
                      data-ng-repeat="t in md.record.resourceType track by $index">{{t | translate}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- /.gn-card-body -->
    </li>
    <!-- /.gn-card -->
  </ul>
</div>
